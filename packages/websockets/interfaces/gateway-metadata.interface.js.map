{"version":3,"file":"gateway-metadata.interface.js","sourceRoot":"","sources":["gateway-metadata.interface.ts"],"names":[],"mappings":"","sourcesContent":["import { CorsOptions } from '@nestjs/common/interfaces/external/cors-options.interface';\r\n\r\n/**\r\n * External interface\r\n * @see https://github.com/socketio/socket.io/blob/master/lib/index.ts\r\n * @publicApi\r\n */\r\nexport interface GatewayMetadata {\r\n  /**\r\n   * The name of a namespace\r\n   */\r\n  namespace?: string | RegExp;\r\n  /**\r\n   * Name of the path to capture\r\n   * @default \"/socket.io\"\r\n   */\r\n  path?: string;\r\n  /**\r\n   * Whether to serve the client files\r\n   * @default true\r\n   */\r\n  serveClient?: boolean;\r\n  /**\r\n   * The adapter to use\r\n   * @default the in-memory adapter (https://github.com/socketio/socket.io-adapter)\r\n   */\r\n  adapter?: any;\r\n  /**\r\n   * The parser to use\r\n   * @default the default parser (https://github.com/socketio/socket.io-parser)\r\n   */\r\n  parser?: any;\r\n  /**\r\n   * How many ms before a client without namespace is closed\r\n   * @default 45_000\r\n   */\r\n  connectTimeout?: number;\r\n  /**\r\n   * How many ms without a pong packet to consider the connection closed\r\n   * @default 20_000\r\n   */\r\n  pingTimeout?: number;\r\n  /**\r\n   * How many ms before sending a new ping packet\r\n   * @default 25_000\r\n   */\r\n  pingInterval?: number;\r\n  /**\r\n   * How many ms before an uncompleted transport upgrade is cancelled\r\n   * @default 10_000\r\n   */\r\n  upgradeTimeout?: number;\r\n  /**\r\n   * How many bytes or characters a message can be, before closing the session (to avoid DoS).\r\n   * @default 1e6 (1 MB)\r\n   */\r\n  maxHttpBufferSize?: number;\r\n  /**\r\n   * A function that receives a given handshake or upgrade request as its first parameter,\r\n   * and can decide whether to continue or not. The second argument is a function that needs\r\n   * to be called with the decided information: fn(err, success), where success is a boolean\r\n   * value where false means that the request is rejected, and err is an error code.\r\n   */\r\n  allowRequest?: (\r\n    req: any,\r\n    fn: (err: string | null | undefined, success: boolean) => void,\r\n  ) => void;\r\n  /**\r\n   * The low-level transports that are enabled\r\n   * @default [\"polling\", \"websocket\"]\r\n   */\r\n  transports?: Array<'polling' | 'websocket'>;\r\n  /**\r\n   * Whether to allow transport upgrades\r\n   * @default true\r\n   */\r\n  allowUpgrades?: boolean;\r\n  /**\r\n   * Parameters of the WebSocket permessage-deflate extension (see ws module api docs). Set to false to disable.\r\n   * @default false\r\n   */\r\n  perMessageDeflate?: boolean | object;\r\n  /**\r\n   * Parameters of the http compression for the polling transports (see zlib api docs). Set to false to disable.\r\n   * @default true\r\n   */\r\n  httpCompression?: boolean | object;\r\n  /**\r\n   * What WebSocket server implementation to use. Specified module must\r\n   * conform to the ws interface (see ws module api docs). Default value is ws.\r\n   * An alternative c++ addon is also available by installing uws module.\r\n   */\r\n  wsEngine?: string;\r\n  /**\r\n   * An optional packet which will be concatenated to the handshake packet emitted by Engine.IO.\r\n   */\r\n  initialPacket?: any;\r\n  /**\r\n   * Configuration of the cookie that contains the client sid to send as part of handshake response headers. This cookie\r\n   * might be used for sticky-session. Defaults to not sending any cookie.\r\n   * @default false\r\n   */\r\n  cookie?: any | boolean;\r\n  /**\r\n   * The options that will be forwarded to the cors module\r\n   */\r\n  cors?: CorsOptions;\r\n  /**\r\n   * Whether to enable compatibility with Socket.IO v2 clients\r\n   * @default false\r\n   */\r\n  allowEIO3?: boolean;\r\n  /**\r\n   * Destroy unhandled upgrade requests\r\n   * @default true\r\n   */\r\n  destroyUpgrade?: boolean;\r\n  /**\r\n   * Milliseconds after which unhandled requests are ended\r\n   * @default 1_000\r\n   */\r\n  destroyUpgradeTimeout?: number;\r\n}\r\n"]}