{"version":3,"file":"repl-function.js","sourceRoot":"D:/04-learn-font/learn-node/nest/packages/core/","sources":["repl/repl-function.ts"],"names":[],"mappings":";;;AACA,0EAA2D;AAI3D,MAAsB,YAAY;IAShC,YAA+B,GAAgB;QAAhB,QAAG,GAAH,GAAG,CAAa;QAC7C,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;IAC3B,CAAC;IAOD;;OAEG;IACI,eAAe;QACpB,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC;QAE3D,MAAM,mBAAmB,GAAG,GAAG,IAAI,GAAG,SAAS,EAAE,CAAC;QAElD,OAAO,GAAG,qBAAG,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,qBAAG,CAAC,aAAa,CACrD,YAAY,CACb,IAAI,qBAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC;IACzC,CAAC;CACF;AA9BD,oCA8BC","sourcesContent":["import { Logger } from '@nestjs/common';\r\nimport { clc } from '@nestjs/common/utils/cli-colors.util';\r\nimport { ReplContext } from './repl-context';\r\nimport type { ReplFnDefinition } from './repl.interfaces';\r\n\r\nexport abstract class ReplFunction<\r\n  ActionParams extends Array<unknown> = Array<unknown>,\r\n  ActionReturn = any,\r\n> {\r\n  /** Metadata that describes the built-in function itself. */\r\n  public abstract fnDefinition: ReplFnDefinition;\r\n\r\n  protected readonly logger: Logger;\r\n\r\n  constructor(protected readonly ctx: ReplContext) {\r\n    this.logger = ctx.logger;\r\n  }\r\n\r\n  /**\r\n   * Method called when the function is invoked from the REPL by the user.\r\n   */\r\n  abstract action(...args: ActionParams): ActionReturn;\r\n\r\n  /**\r\n   * @returns A message displayed by calling `<fnName>.help`\r\n   */\r\n  public makeHelpMessage(): string {\r\n    const { description, name, signature } = this.fnDefinition;\r\n\r\n    const fnSignatureWithName = `${name}${signature}`;\r\n\r\n    return `${clc.yellow(description)}\\n${clc.magentaBright(\r\n      'Interface:',\r\n    )} ${clc.bold(fnSignatureWithName)}\\n`;\r\n  }\r\n}\r\n"]}