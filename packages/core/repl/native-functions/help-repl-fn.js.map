{"version":3,"file":"help-repl-fn.js","sourceRoot":"D:/04-learn-font/learn-node/nest/packages/core/","sources":["repl/native-functions/help-repl-fn.ts"],"names":[],"mappings":";;;AAAA,qCAAkC;AAClC,0EAA2D;AAC3D,oDAAgD;AAGhD,MAAa,UAAW,SAAQ,4BAAY;IAA5C;;QACS,iBAAY,GAAqB;YACtC,IAAI,EAAE,MAAM;YACZ,SAAS,EAAE,YAAY;YACvB,WAAW,EAAE,8CAA8C;SAC5D,CAAC;IAqBJ,CAAC;IAfC,MAAM;QACJ,MAAM,qBAAqB,GAAG,IAAA,iBAAO,EAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC;aAC5D,GAAG,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,EAAE,EAAE,CAAC,cAAc,CAAC,YAAY,CAAC;aACxD,OAAO,EAAE;aACT,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9C,IAAI,CAAC,GAAG,CAAC,aAAa,CACpB,gBAAgB,qBAAG,CAAC,IAAI,CACtB,OAAO,CACR,wCAAwC,qBAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ;YACpE,qBAAqB,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YACjE,4DAA4D;YAC5D,IAAI,CACP,CAAC;IACJ,CAAC;;AAzBH,gCA0BC;AAnBQ,2BAAgB,GAAG,CAAC,EAAE,IAAI,EAAE,WAAW,EAAoB,EAAE,EAAE,CACpE,qBAAG,CAAC,UAAU,CAAC,IAAI,CAAC;IACpB,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,qBAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,AAFlC,CAEmC","sourcesContent":["import { iterate } from 'iterare';\r\nimport { clc } from '@nestjs/common/utils/cli-colors.util';\r\nimport { ReplFunction } from '../repl-function';\r\nimport type { ReplFnDefinition } from '../repl.interfaces';\r\n\r\nexport class HelpReplFn extends ReplFunction {\r\n  public fnDefinition: ReplFnDefinition = {\r\n    name: 'help',\r\n    signature: '() => void',\r\n    description: 'Display all available REPL native functions.',\r\n  };\r\n\r\n  static buildHelpMessage = ({ name, description }: ReplFnDefinition) =>\r\n    clc.cyanBright(name) +\r\n    (description ? ` ${clc.bold('-')} ${description}` : '');\r\n\r\n  action(): void {\r\n    const sortedNativeFunctions = iterate(this.ctx.nativeFunctions)\r\n      .map(([, nativeFunction]) => nativeFunction.fnDefinition)\r\n      .toArray()\r\n      .sort((a, b) => (a.name < b.name ? -1 : 1));\r\n\r\n    this.ctx.writeToStdout(\r\n      `You can call ${clc.bold(\r\n        '.help',\r\n      )} on any function listed below (e.g.: ${clc.bold('help.help')}):\\n\\n` +\r\n        sortedNativeFunctions.map(HelpReplFn.buildHelpMessage).join('\\n') +\r\n        // Without the following LF the last item won't be displayed\r\n        '\\n',\r\n    );\r\n  }\r\n}\r\n"]}