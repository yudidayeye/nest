{"version":3,"file":"load-adapter.js","sourceRoot":"D:/04-learn-font/learn-node/nest/packages/core/","sources":["helpers/load-adapter.ts"],"names":[],"mappings":";;;AAAA,2CAAwC;AAExC,MAAM,2BAA2B,GAAG,CAClC,eAAuB,EACvB,SAAiB,EACjB,EAAE,CACF,cAAc,SAAS,yGAAyG,eAAe,4BAA4B,eAAe,IAAI,CAAC;AAEjM,MAAM,MAAM,GAAG,IAAI,eAAM,CAAC,eAAe,CAAC,CAAC;AAE3C,SAAgB,WAAW,CACzB,eAAuB,EACvB,SAAiB,EACjB,QAAmB;IAEnB,IAAI;QACF,OAAO,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;KACzD;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,KAAK,CAAC,2BAA2B,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC,CAAC;QACtE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACjB;AACH,CAAC;AAXD,kCAWC","sourcesContent":["import { Logger } from '@nestjs/common';\r\n\r\nconst MISSING_REQUIRED_DEPENDENCY = (\r\n  defaultPlatform: string,\r\n  transport: string,\r\n) =>\r\n  `No driver (${transport}) has been selected. In order to take advantage of the default driver, please, ensure to install the \"${defaultPlatform}\" package ($ npm install ${defaultPlatform}).`;\r\n\r\nconst logger = new Logger('PackageLoader');\r\n\r\nexport function loadAdapter(\r\n  defaultPlatform: string,\r\n  transport: string,\r\n  loaderFn?: Function,\r\n) {\r\n  try {\r\n    return loaderFn ? loaderFn() : require(defaultPlatform);\r\n  } catch (e) {\r\n    logger.error(MISSING_REQUIRED_DEPENDENCY(defaultPlatform, transport));\r\n    process.exit(1);\r\n  }\r\n}\r\n"]}