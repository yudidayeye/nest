{"version":3,"file":"exclude-route.util.js","sourceRoot":"D:/04-learn-font/learn-node/nest/packages/core/","sources":["router/utils/exclude-route.util.ts"],"names":[],"mappings":";;;AAAA,2CAA+C;AAC/C,oEAAoE;AAG7D,MAAM,kBAAkB,GAAG,CAAC,MAAqB,EAAE,EAAE;IAC1D,OAAO,sBAAa,CAAC,GAAG,KAAK,MAAM,IAAK,MAAiB,KAAK,CAAC,CAAC,CAAC;AACnE,CAAC,CAAC;AAFW,QAAA,kBAAkB,sBAE7B;AAEF,SAAgB,eAAe,CAC7B,cAAsC,EACtC,IAAY,EACZ,aAA6B;IAE7B,OAAO,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACjC,IACE,IAAA,0BAAkB,EAAC,KAAK,CAAC,aAAa,CAAC;YACvC,KAAK,CAAC,aAAa,KAAK,aAAa,EACrC;YACA,OAAO,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,IAAA,8BAAe,EAAC,IAAI,CAAC,CAAC,CAAC;SACpD;QACD,OAAO,KAAK,CAAC;IACf,CAAC,CAAC,CAAC;AACL,CAAC;AAdD,0CAcC","sourcesContent":["import { RequestMethod } from '@nestjs/common';\r\nimport { addLeadingSlash } from '@nestjs/common/utils/shared.utils';\r\nimport { ExcludeRouteMetadata } from '../interfaces/exclude-route-metadata.interface';\r\n\r\nexport const isRequestMethodAll = (method: RequestMethod) => {\r\n  return RequestMethod.ALL === method || (method as number) === -1;\r\n};\r\n\r\nexport function isRouteExcluded(\r\n  excludedRoutes: ExcludeRouteMetadata[],\r\n  path: string,\r\n  requestMethod?: RequestMethod,\r\n) {\r\n  return excludedRoutes.some(route => {\r\n    if (\r\n      isRequestMethodAll(route.requestMethod) ||\r\n      route.requestMethod === requestMethod\r\n    ) {\r\n      return route.pathRegex.exec(addLeadingSlash(path));\r\n    }\r\n    return false;\r\n  });\r\n}\r\n"]}