{"version":3,"file":"deterministic-uuid-registry.js","sourceRoot":"D:/04-learn-font/learn-node/nest/packages/core/","sources":["inspector/deterministic-uuid-registry.ts"],"names":[],"mappings":";;;AAAA,MAAa,yBAAyB;IAGpC,MAAM,CAAC,GAAG,CAAC,GAAW,EAAE,GAAG,GAAG,CAAC;QAC7B,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACrE,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YACzB,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;SAC/B;QACD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAC5B,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,MAAM,CAAC,KAAK;QACV,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IAEO,MAAM,CAAC,QAAQ,CAAC,CAAS;QAC/B,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE;YAC/B,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAC/C,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtB,CAAC;;AArBH,8DAsBC;AArByB,kCAAQ,GAAG,IAAI,GAAG,EAAmB,CAAC","sourcesContent":["export class DeterministicUuidRegistry {\r\n  private static readonly registry = new Map<string, boolean>();\r\n\r\n  static get(str: string, inc = 0) {\r\n    const id = inc ? this.hashCode(`${str}_${inc}`) : this.hashCode(str);\r\n    if (this.registry.has(id)) {\r\n      return this.get(str, inc + 1);\r\n    }\r\n    this.registry.set(id, true);\r\n    return id;\r\n  }\r\n\r\n  static clear() {\r\n    this.registry.clear();\r\n  }\r\n\r\n  private static hashCode(s: string) {\r\n    let h = 0;\r\n    for (let i = 0; i < s.length; i++)\r\n      h = (Math.imul(31, h) + s.charCodeAt(i)) | 0;\r\n    return h.toString();\r\n  }\r\n}\r\n"]}