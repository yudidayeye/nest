{"version":3,"file":"rpc-exception.js","sourceRoot":"","sources":["rpc-exception.ts"],"names":[],"mappings":";;;AAAA,oEAAuE;AAEvE;;GAEG;AACH,MAAa,YAAa,SAAQ,KAAK;IACrC,YAA6B,KAAsB;QACjD,KAAK,EAAE,CAAC;QADmB,UAAK,GAAL,KAAK,CAAiB;QAEjD,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEM,WAAW;QAChB,IAAI,IAAA,uBAAQ,EAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;SAC3B;aAAM,IACL,IAAA,uBAAQ,EAAC,IAAI,CAAC,KAAK,CAAC;YACpB,IAAA,uBAAQ,EAAE,IAAI,CAAC,KAA6B,CAAC,OAAO,CAAC,EACrD;YACA,IAAI,CAAC,OAAO,GAAI,IAAI,CAAC,KAA6B,CAAC,OAAO,CAAC;SAC5D;aAAM,IAAI,IAAI,CAAC,WAAW,EAAE;YAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI;iBACjC,KAAK,CAAC,qBAAqB,CAAC;iBAC5B,IAAI,CAAC,GAAG,CAAC,CAAC;SACd;IACH,CAAC;IAEM,QAAQ;QACb,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;CACF;AAxBD,oCAwBC","sourcesContent":["import { isObject, isString } from '@nestjs/common/utils/shared.utils';\r\n\r\n/**\r\n * @publicApi\r\n */\r\nexport class RpcException extends Error {\r\n  constructor(private readonly error: string | object) {\r\n    super();\r\n    this.initMessage();\r\n  }\r\n\r\n  public initMessage() {\r\n    if (isString(this.error)) {\r\n      this.message = this.error;\r\n    } else if (\r\n      isObject(this.error) &&\r\n      isString((this.error as Record<string, any>).message)\r\n    ) {\r\n      this.message = (this.error as Record<string, any>).message;\r\n    } else if (this.constructor) {\r\n      this.message = this.constructor.name\r\n        .match(/[A-Z][a-z]+|[0-9]+/g)\r\n        .join(' ');\r\n    }\r\n  }\r\n\r\n  public getError(): string | object {\r\n    return this.error;\r\n  }\r\n}\r\n"]}