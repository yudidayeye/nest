{"version":3,"file":"server-factory.js","sourceRoot":"","sources":["server-factory.ts"],"names":[],"mappings":";;;AAAA,4DAAoD;AAGpD,+CAA2C;AAC3C,iDAA6C;AAC7C,+CAA2C;AAC3C,+CAA2C;AAC3C,iDAA6C;AAC7C,6CAAyC;AACzC,6CAAyC;AAEzC,MAAa,aAAa;IACjB,MAAM,CAAC,MAAM,CAClB,mBAAwC;QAExC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,mBAA0B,CAAC;QAC1D,QAAQ,SAAS,EAAE;YACjB,KAAK,0BAAS,CAAC,KAAK;gBAClB,OAAO,IAAI,0BAAW,CAAC,OAAO,CAAC,CAAC;YAClC,KAAK,0BAAS,CAAC,IAAI;gBACjB,OAAO,IAAI,wBAAU,CAAC,OAAO,CAAC,CAAC;YACjC,KAAK,0BAAS,CAAC,IAAI;gBACjB,OAAO,IAAI,wBAAU,CAAC,OAAO,CAAC,CAAC;YACjC,KAAK,0BAAS,CAAC,IAAI;gBACjB,OAAO,IAAI,wBAAU,CAAC,OAAO,CAAC,CAAC;YACjC,KAAK,0BAAS,CAAC,KAAK;gBAClB,OAAO,IAAI,0BAAW,CAAC,OAAO,CAAC,CAAC;YAClC,KAAK,0BAAS,CAAC,GAAG;gBAChB,OAAO,IAAI,sBAAS,CAAC,OAAO,CAAC,CAAC;YAChC;gBACE,OAAO,IAAI,sBAAS,CAAC,OAAO,CAAC,CAAC;SACjC;IACH,CAAC;CACF;AAtBD,sCAsBC","sourcesContent":["import { Transport } from '../enums/transport.enum';\r\nimport { CustomTransportStrategy, MicroserviceOptions } from '../interfaces';\r\nimport { Server } from './server';\r\nimport { ServerGrpc } from './server-grpc';\r\nimport { ServerKafka } from './server-kafka';\r\nimport { ServerMqtt } from './server-mqtt';\r\nimport { ServerNats } from './server-nats';\r\nimport { ServerRedis } from './server-redis';\r\nimport { ServerTCP } from './server-tcp';\r\nimport { ServerRMQ } from './server-rmq';\r\n\r\nexport class ServerFactory {\r\n  public static create(\r\n    microserviceOptions: MicroserviceOptions,\r\n  ): Server & CustomTransportStrategy {\r\n    const { transport, options } = microserviceOptions as any;\r\n    switch (transport) {\r\n      case Transport.REDIS:\r\n        return new ServerRedis(options);\r\n      case Transport.NATS:\r\n        return new ServerNats(options);\r\n      case Transport.MQTT:\r\n        return new ServerMqtt(options);\r\n      case Transport.GRPC:\r\n        return new ServerGrpc(options);\r\n      case Transport.KAFKA:\r\n        return new ServerKafka(options);\r\n      case Transport.RMQ:\r\n        return new ServerRMQ(options);\r\n      default:\r\n        return new ServerTCP(options);\r\n    }\r\n  }\r\n}\r\n"]}