{"version":3,"file":"kafka-logger.js","sourceRoot":"","sources":["kafka-logger.ts"],"names":[],"mappings":";;;AAAA,iEAAuD;AAEhD,MAAM,WAAW,GACtB,CAAC,MAAW,EAAE,EAAE,CAChB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE,EAAE;IACnC,IAAI,YAAoB,CAAC;IAEzB,QAAQ,KAAK,EAAE;QACb,KAAK,0BAAQ,CAAC,KAAK,CAAC;QACpB,KAAK,0BAAQ,CAAC,OAAO;YACnB,YAAY,GAAG,OAAO,CAAC;YACvB,MAAM;QACR,KAAK,0BAAQ,CAAC,IAAI;YAChB,YAAY,GAAG,MAAM,CAAC;YACtB,MAAM;QACR,KAAK,0BAAQ,CAAC,IAAI;YAChB,YAAY,GAAG,KAAK,CAAC;YACrB,MAAM;QACR,KAAK,0BAAQ,CAAC,KAAK,CAAC;QACpB;YACE,YAAY,GAAG,OAAO,CAAC;YACvB,MAAM;KACT;IAED,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,EAAE,GAAG,GAAG,CAAC;IACnC,IAAI,MAAM,CAAC,YAAY,CAAC,EAAE;QACxB,MAAM,CAAC,YAAY,CAAC,CAClB,GAAG,KAAK,KAAK,SAAS,KAAK,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAC/D,CAAC;KACH;AACH,CAAC,CAAC;AA5BS,QAAA,WAAW,eA4BpB","sourcesContent":["import { logLevel } from '../external/kafka.interface';\r\n\r\nexport const KafkaLogger =\r\n  (logger: any) =>\r\n  ({ namespace, level, label, log }) => {\r\n    let loggerMethod: string;\r\n\r\n    switch (level) {\r\n      case logLevel.ERROR:\r\n      case logLevel.NOTHING:\r\n        loggerMethod = 'error';\r\n        break;\r\n      case logLevel.WARN:\r\n        loggerMethod = 'warn';\r\n        break;\r\n      case logLevel.INFO:\r\n        loggerMethod = 'log';\r\n        break;\r\n      case logLevel.DEBUG:\r\n      default:\r\n        loggerMethod = 'debug';\r\n        break;\r\n    }\r\n\r\n    const { message, ...others } = log;\r\n    if (logger[loggerMethod]) {\r\n      logger[loggerMethod](\r\n        `${label} [${namespace}] ${message} ${JSON.stringify(others)}`,\r\n      );\r\n    }\r\n  };\r\n"]}