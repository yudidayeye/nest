{"version":3,"file":"sse.decorator.js","sourceRoot":"","sources":["sse.decorator.ts"],"names":[],"mappings":";;;AAAA,+CAA+E;AAC/E,yEAAgE;AAEhE;;;;GAIG;AACH,SAAgB,GAAG,CAAC,IAAa;IAC/B,OAAO,CACL,MAAc,EACd,GAAoB,EACpB,UAAwC,EACxC,EAAE;QACF,IAAI,GAAG,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;QAExC,OAAO,CAAC,cAAc,CAAC,yBAAa,EAAE,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;QAC9D,OAAO,CAAC,cAAc,CACpB,2BAAe,EACf,mCAAa,CAAC,GAAG,EACjB,UAAU,CAAC,KAAK,CACjB,CAAC;QACF,OAAO,CAAC,cAAc,CAAC,wBAAY,EAAE,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;QAC7D,OAAO,UAAU,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC;AAjBD,kBAiBC","sourcesContent":["import { METHOD_METADATA, PATH_METADATA, SSE_METADATA } from '../../constants';\r\nimport { RequestMethod } from '../../enums/request-method.enum';\r\n\r\n/**\r\n * Declares this route as a Server-Sent-Events endpoint\r\n *\r\n * @publicApi\r\n */\r\nexport function Sse(path?: string): MethodDecorator {\r\n  return (\r\n    target: object,\r\n    key: string | symbol,\r\n    descriptor: TypedPropertyDescriptor<any>,\r\n  ) => {\r\n    path = path && path.length ? path : '/';\r\n\r\n    Reflect.defineMetadata(PATH_METADATA, path, descriptor.value);\r\n    Reflect.defineMetadata(\r\n      METHOD_METADATA,\r\n      RequestMethod.GET,\r\n      descriptor.value,\r\n    );\r\n    Reflect.defineMetadata(SSE_METADATA, true, descriptor.value);\r\n    return descriptor;\r\n  };\r\n}\r\n"]}