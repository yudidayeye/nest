{"version":3,"file":"set-metadata.decorator.js","sourceRoot":"","sources":["set-metadata.decorator.ts"],"names":[],"mappings":";;;AAKA;;;;;;;;;;;;;;;GAeG;AACI,MAAM,WAAW,GAAG,CACzB,WAAc,EACd,aAAgB,EACI,EAAE;IACtB,MAAM,gBAAgB,GAAG,CAAC,MAAc,EAAE,GAAS,EAAE,UAAgB,EAAE,EAAE;QACvE,IAAI,UAAU,EAAE;YACd,OAAO,CAAC,cAAc,CAAC,WAAW,EAAE,aAAa,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;YACrE,OAAO,UAAU,CAAC;SACnB;QACD,OAAO,CAAC,cAAc,CAAC,WAAW,EAAE,aAAa,EAAE,MAAM,CAAC,CAAC;QAC3D,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;IACF,gBAAgB,CAAC,GAAG,GAAG,WAAW,CAAC;IACnC,OAAO,gBAAgB,CAAC;AAC1B,CAAC,CAAC;AAdW,QAAA,WAAW,eActB","sourcesContent":["export type CustomDecorator<TKey = string> = MethodDecorator &\r\n  ClassDecorator & {\r\n    KEY: TKey;\r\n  };\r\n\r\n/**\r\n * Decorator that assigns metadata to the class/function using the\r\n * specified `key`.\r\n *\r\n * Requires two parameters:\r\n * - `key` - a value defining the key under which the metadata is stored\r\n * - `value` - metadata to be associated with `key`\r\n *\r\n * This metadata can be reflected using the `Reflector` class.\r\n *\r\n * Example: `@SetMetadata('roles', ['admin'])`\r\n *\r\n * @see [Reflection](https://docs.nestjs.com/guards#reflection)\r\n *\r\n * @publicApi\r\n */\r\nexport const SetMetadata = <K = string, V = any>(\r\n  metadataKey: K,\r\n  metadataValue: V,\r\n): CustomDecorator<K> => {\r\n  const decoratorFactory = (target: object, key?: any, descriptor?: any) => {\r\n    if (descriptor) {\r\n      Reflect.defineMetadata(metadataKey, metadataValue, descriptor.value);\r\n      return descriptor;\r\n    }\r\n    Reflect.defineMetadata(metadataKey, metadataValue, target);\r\n    return target;\r\n  };\r\n  decoratorFactory.KEY = metadataKey;\r\n  return decoratorFactory;\r\n};\r\n"]}