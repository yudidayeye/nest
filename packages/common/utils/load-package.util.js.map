{"version":3,"file":"load-package.util.js","sourceRoot":"","sources":["load-package.util.ts"],"names":[],"mappings":";;;AAAA,+DAAoD;AAEpD,MAAM,2BAA2B,GAAG,CAAC,IAAY,EAAE,MAAc,EAAE,EAAE,CACnE,QAAQ,IAAI,kFAAkF,IAAI,0BAA0B,MAAM,GAAG,CAAC;AAExI,MAAM,MAAM,GAAG,IAAI,uBAAM,CAAC,eAAe,CAAC,CAAC;AAE3C,SAAgB,WAAW,CACzB,WAAmB,EACnB,OAAe,EACf,QAAmB;IAEnB,IAAI;QACF,OAAO,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;KACrD;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,KAAK,CAAC,2BAA2B,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,CAAC;QAChE,uBAAM,CAAC,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACjB;AACH,CAAC;AAZD,kCAYC","sourcesContent":["import { Logger } from '../services/logger.service';\r\n\r\nconst MISSING_REQUIRED_DEPENDENCY = (name: string, reason: string) =>\r\n  `The \"${name}\" package is missing. Please, make sure to install this library ($ npm install ${name}) to take advantage of ${reason}.`;\r\n\r\nconst logger = new Logger('PackageLoader');\r\n\r\nexport function loadPackage(\r\n  packageName: string,\r\n  context: string,\r\n  loaderFn?: Function,\r\n) {\r\n  try {\r\n    return loaderFn ? loaderFn() : require(packageName);\r\n  } catch (e) {\r\n    logger.error(MISSING_REQUIRED_DEPENDENCY(packageName, context));\r\n    Logger.flush();\r\n    process.exit(1);\r\n  }\r\n}\r\n"]}